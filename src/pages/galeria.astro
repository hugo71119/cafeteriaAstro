---
    import GalleryGrid from "@/components/gallery/GalleryGrid.astro";
import Layout from "@/layouts/Layout.astro";
    import { GalleryPageSchema } from "@/types/index";

    const url = `${import.meta.env.API_URL}/pages?slug=galeria`;
    const response = await fetch(url);
    const json = await response.json();
    const data = GalleryPageSchema.parse(json[0])
    
---

<Layout
    title={data.title.rendered}
    subtitle={data.acf.subtitle}
    bgImage={data.featured_images.large.url}
>
    <GalleryGrid 
        gallery={data.gallery}
    />
</Layout>

